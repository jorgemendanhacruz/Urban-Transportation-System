<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <title>Home</title>

  {% if user %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  {% endif %}
</head>
<body>

  <!-- Mensagens Flash -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul>
        {% for category, msg in messages %}
          <li>[{{ category }}] {{ msg }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  {% if user %}

    <p>Login como: <strong>{{ user.first_name }} ({{ user.email }})</strong></p>
    <p><a href="{{ url_for('logout') }}">Logout</a></p>

    <!-- üî• BOT√ïES PARA AS ROTAS DO FLASK -->
    <div style="margin: 20px 0; display: flex; gap: 10px;">

      <!-- Favoritos -->
      <a href="{{ url_for('favorites') }}">
        <button>‚≠ê Favoritos</button>
      </a>

      <!-- Notifica√ß√µes -->
      <a href="{{ url_for('notifications') }}">
        <button>üîî Notifica√ß√µes</button>
      </a>

      <!-- Hist√≥rico -->
      <a href="{{ url_for('history') }}">
        <button>üìú Hist√≥rico</button>
      </a>

    </div>

    <h1>Consultar Linhas de Metro</h1>

    <div class="box">
      <form action="{{ url_for('result') }}" method="get">

        <!-- Origem -->
        <label>Origem:</label>
        <select name="from">
          <option value="S1">S1</option>
          <option value="S2">S2</option>
          <option value="S3">S3</option>
          <option value="S4">S4</option>
          <option value="S5">S5</option>
          <option value="S6">S6</option>
          <option value="S7">S7</option>
          <option value="S8">S8</option>
        </select>

        <!-- Destino -->
        <label>Destino:</label>
        <select name="to">
          <option value="S1">S1</option>
          <option value="S2">S2</option>
          <option value="S3">S3</option>
          <option value="S4">S4</option>
          <option value="S5">S5</option>
          <option value="S6">S6</option>
          <option value="S7">S7</option>
          <option value="S8">S8</option>
        </select>

        <h3>Escolha o tipo de consulta:</h3>

        <button type="submit" name="type" value="simple">Rota Simples</button>
        <button type="submit" name="type" value="details">Rota Detalhada</button>
        <button type="submit" name="type" value="transfer">Rota com Transfer√™ncia</button>

      </form>
    </div>

  {% else %}

    <h1>Bem-vindo!</h1>
    <a href="{{ url_for('login') }}">Login</a> |
    <a href="{{ url_for('register') }}">Registar</a>

  {% endif %}

</body>
</html>
